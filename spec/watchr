watch( /spec\/.*\.spec\.coffee/ )  {|mod| run("jasmine-node --coffee .") }
watch( /app\/.*\.coffee/ )  {|mod| run("jasmine-node --coffee .") }

if ARGV[1] && ARGV[1].length > 0
  watch( /spec\/.*#{ARGV[1]}\.spec\.coffee/  )  {|mod| run("jasmine-node --coffee . -m #{ARGV[1]}\.") }
  watch( /app\/.*#{ARGV[1]}\.coffee/  )  {|mod| run("jasmine-node --coffee . -m #{ARGV[1]}\.") }
end

def run cmd
  puts cmd
  system cmd
end