<!DOCTYPE html> 
<html> 
<head> 
<title>Nano War</title> 
<link href="/style.css" rel="stylesheet" type="text/css"/> 
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script> 
<script src="app/vendor/underscore.js"></script> 
<script src="app/vendor/raphael.js"></script> 

<script src="app/vendor/processing-1.3.0.js"></script> 
<body> 
<canvas id="background" data-processing-sources="background.pde"></canvas>
<style>
  .blue .inner {
    stop-color: #5e7e9f;
  }
  .blue .outer {
    stop-color: #455269;
  }
</style>
<div id="test"></div>

<script>
$(document).ready(function() {
  var paper = Raphael("test", 400, 400);
  
  svg = $("#test svg")[0]
  console.log(svg)
  
  
  
  
  //var clone = document.importNode(nodeFromAnotherDoc,true);
  
  $.get('/images/defs.svg', function(defsSVG) {
    svg.appendChild(defsSVG.getElementById("nanowarDefs"))
  })
  
  
  
  
  
  layers = paper.set()
  
  layers.push(shadow = paper.circle(0,0,40))
  shadow.attr({fill: "black" })
  shadow.node.setAttribute("filter", "url(images/defs.svg#cellShadow)")
  
  layers.push(bg = paper.circle(0,0,40))
  bg.attr({fill: "url(images/defs.svg#blueBackground)"})
  
  layers.push(metal = paper.circle(0,0,40))
  metal.attr({fill: "url(images/defs.svg#metalPattern)"})
  
  layers.push(fg = paper.circle(0,0,40))
  fg.attr({fill: "url(images/defs.svg#blueForeground)"})
  
  layers.attr({stroke: 'none', cx: 300, cy: 300})
  
  setTimeout(function() {
    layers.animate({r: 50}, 500, 'bounce')
  }, 2000)
  
  
})
</script>
</body></html>